<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="EZDate,简约,简约网,交友,交友网,网上交友,交友中心,年轻人交友,学生交友,同城交友,同城约会吧,约会吧交友,沈阳交友,沈阳高校交友,沈阳高校,沈阳论坛" />
    <meta name="baidu-site-verification" content="q8u9TKn931" />
    <meta name="description" content="沈阳简约网：致力于打造属于沈阳年轻人的交友约会平台" />
    <title>沈阳简约网</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <#include "header.html">
                <!--表格-->
                <!--<div class="table-responsive" style="height:570px">-->
                <div class="table-responsive">
                    <table class="table table-hover table-bordered">
                    <thead class="table-bordered">
                    <tr>
                        <th width="70%"  scope="col" style="text-align:center;">标题</th>
                        <th width="20%"  scope="col" style="text-align:center;">发布时间</th>
                        <th width="10%" scope="col" style="text-align:center;">来源</th>
                    </tr>
                    </thead>
                    <tbody id="listBody">
                    <#list pageInfo.list as info>
                    <tr postId="${info.id?c}" style="cursor:pointer;">
                        <td>${info.title}</td>
                        <td style="text-align:center;">${info.publishtime?string('yyyy-MM-dd')}</td>
                        <td style="text-align:center;">${info.source}</td>
                    </tr>
                    </#list>
                    </tbody>
                </table>
                </div>
                <!--分页-->
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center" id="pageLimit1">
                    </ul>
                </nav>
            </div>
        </div>
    </div>
    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/js/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="/js/bootstrap-paginator.js"></script>
    <script src="/js/DateToStr.js"></script>
    <script>
        var options = {
            currentPage: ${pageInfo.pageNum},//当前的请求页面
            totalPages: ${pageInfo.pages},//一共多少页
            bootstrapMajorVersion: 3,//bootstrap的版本要求
            onPageClicked: function(event, originalEvent, type, page) {
                window.location.href = "/postinfo/list/"+ page+window.location.search;
            }
        }
        $('#pageLimit1').bootstrapPaginator(options);
        //为列表添加点击事件
        $('#listBody').on('click','tr',function () {
                var postId= $(this).attr("postId");
                window.location.href = "/postinfo/detail/"+ postId;
        })
    </script>
</body>
</html>